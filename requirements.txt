raw_conf = result.get("confidence", 0.7)
try:
    conf = float(raw_conf)
except (TypeError, ValueError):
    conf = 0.7




